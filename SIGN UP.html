<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Page</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;600;700;900&display=swap");

      :root {
        --accent-color: #8672ff;
        --base-color: white;
        --text-color: #2e2b41;
        --input-color: #f3f0ff;
      }

      * {
        margin: 0;
        padding: 0;
      }

      html {
        font-family: "Poppins", sans-serif;
        font-size: 12pt;
        color: var(--text-color);
        text-align: center;
      }

      body {
        min-height: 100vh;
        background-image: url(pexels-anniroenkae-3109850.jpg);
        background-size: cover;
        background-repeat: no-repeat;
        /* background-repeat: no-repeat; - Prevents the background image from tiling. */
        overflow-x: hidden;
        /* overflow-x: hidden; - Hides any content that overflows horizontally, preventing a horizontal scrollbar. */
      }

      .wrapper {
        box-sizing: border-box;
        background-color: var(--base-color);
        height: 100vh;
        width: max(40%, 600px);
        /* width: max(40%, 600px); - Sets the width to be at least 600px, but can grow to 40% of the parent if that's larger. */
        padding: 10px;
        border-radius: 0 20px 20px 0;
        display: flex;
        flex-direction: column;
        /* flex-direction: column; - Arranges the items inside the wrapper vertically. */
        align-items: center;
        justify-content: center;
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 900;
        text-transform: uppercase;
      }

      form {
        width: min(400px, 100%);
        margin-top: 20px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 10px;
      }

      form > div {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      form > div > label {
        padding: 0.61em;
        margin-right: 10px;
        flex-shrink: 0;
        /* flex-shrink: 0; - Prevents the label from shrinking if there's not enough space. */
        width: 50px;
        background-color: var(--accent-color);
        color: var(--base-color);
        border-radius: 10px 0 0 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        font-weight: 900;
      }

      form > div > label > span {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
      }

      form > div > input {
        box-sizing: border-box;
        flex-grow: 1;
        /* flex-grow: 1; - Allows the input to grow and take up any available space in the row. */
        min-width: 0;
        /* min-width: 0; - Allows the input to shrink smaller than its content if necessary to avoid overflow. */
        height: 50px;
        padding: 1em;
        margin-left: -9.3px;
        border: 2px solid var(--input-color);
        border-radius: 0 10px 10px 0;
        border-left: none;
        font: inherit;
        background-color: var(--input-color);
        transition: 150ms ease;
      }

      form > div > input:hover {
        border-color: var(--accent-color);
      }

      form > div > input:focus {
        outline: none;
        border-color: var(--text-color);
      }

      div:has(input:focus) > label {
        background-color: var(--text-color);
      }

      form input::placeholder {
        color: var(--text-color);
        opacity: 1;
      }

      form button {
        margin-top: 10px;
        border: none;
        border-radius: 1000px;
        padding: 0.5em 1em;
        background-color: var(--accent-color);
        font: inherit;
        cursor: pointer;
        text-transform: uppercase;
        font-weight: 600;
        transition: 300ms ease-in-out;
      }

      form button:hover,
      form button:focus {
        transform: scale(1.05);
        background-color: var(--text-color);
        color: var(--base-color);
      }

      a {
        text-decoration: none;
        color: var(--text-color);
      }

      a:hover {
        text-decoration: underline;
      }

      .incorrect input {
        border-color: red !important;
        background-color: #ffe6e6;
      }

      #error-messages {
        color: red;
        list-style: none;
        padding: 0;
        margin-bottom: 10px;
      }

      @media (max-width: 1100px) {
        .wrapper {
          width: min(600px, 100%);
          border-radius: 0;
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <h1>Sign Up</h1>
      <form id="form">
        <ul id="error-messages"></ul>
        <div>
          <label for="firstname-input">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
            >
              <path
                d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Z"
              />
            </svg>
          </label>
          <input
            type="text"
            name="firstname"
            id="firstname-input"
            placeholder="Firstname"
          />
        </div>
        <div>
          <label for="email-input"><span>@</span></label>
          <input
            type="email"
            name="email"
            id="email-input"
            placeholder="Email"
          />
        </div>
        <div>
          <label>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
            >
              <path
                d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm240-200q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80Z"
              />
            </svg>
          </label>
          <input
            type="password"
            name="password"
            id="password-input"
            placeholder="Password"
          />
        </div>
        <div>
          <label>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
            >
              <path
                d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm240-200q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80Z"
              />
            </svg>
          </label>
          <input
            type="password"
            name="Confirm-password"
            id="repeat-password-input"
            placeholder="Confirm-Password"
          />
        </div>
        <button type="submit">Sign Up</button>
      </form>
      <p>Already have an account? <a href="LOGIN-PAGE.html">login</a></p>
    </div>

    <script>
      const form = document.getElementById("form");
      const firstname_input = document.getElementById("firstname-input");
      const email_input = document.getElementById("email-input");
      const password_input = document.getElementById("password-input");
      const repeat_password_input = document.getElementById(
        "repeat-password-input"
      );

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const errorList = document.getElementById("error-messages");
        errorList.innerHTML = "";

        document
          .querySelectorAll(".incorrect")
          .forEach((el) => el.classList.remove("incorrect"));

        let errors = [];
        if (firstname_input) {
          errors = getSignupFormErrors(
            firstname_input.value,
            email_input.value,
            password_input.value,
            repeat_password_input.value
          );
        }

        if (errors.length > 0) {
          errors.forEach((err) => {
            const li = document.createElement("li");
            li.innerText = err;
            errorList.appendChild(li);
          });
        } else {
          alert("Form submitted successfully!");
        }
      });

      function getSignupFormErrors(
        firstname,
        email,
        password,
        repeat_password
      ) {
        let errors = [];
        if (firstname === "" || firstname == null) {
          errors.push("Firstname is required");
          firstname_input.parentElement.classList.add("incorrect");
        }
        if (email === "" || email == null) {
          errors.push("Email is required");
          email_input.parentElement.classList.add("incorrect");
        }
        if (password === "" || password == null) {
          errors.push("Password is required");
          password_input.parentElement.classList.add("incorrect");
        }
        if (repeat_password === "" || repeat_password == null) {
          errors.push("Confirm password is required");
          repeat_password_input.parentElement.classList.add("incorrect");
        }
        if (password && repeat_password && password !== repeat_password) {
          errors.push("Passwords do not match");
          password_input.parentElement.classList.add("incorrect");
          repeat_password_input.parentElement.classList.add("incorrect");
        }
        return errors;
      }
      function getLoginFormErrors(email, password) {
        let errors = [];
        if (email === "" || email == null) {
          errors.push("Email is required");
          email_input.parentElement.classList.add("incorrect");
        }
        if (password === "" || password == null) {
          errors.push("Password is required");
          password_input.parentElement.classList.add("incorrect");
        }
        return errors;
      }
    </script>
  </body>
</html>
